- content_for :title, "日報を編集"

.row.justify-content-center
  .col-md-8.col-lg-6
    .card
      .card-header.bg-warning.text-dark
        %h4.mb-0
          %i.fas.fa-edit.me-2
          日報を編集
          %small.text-muted= @daily_report.date.strftime("（%Y年%m月%d日）")
      
      .card-body
        = form_with model: @daily_report, local: true do |f|
          - if @daily_report.errors.any?
            .alert.alert-danger
              %h6 入力にエラーがあります：
              %ul.mb-0
                - @daily_report.errors.full_messages.each do |message|
                  %li= message
          
          .mb-3
            = f.label :date, "日付", class: "form-label required"
            = f.date_field :date, class: "form-control", required: true
            .form-text 日報を書く日付を選択してください
          
          .mb-3
            = f.label :work_content, "作業内容", class: "form-label required"
            = f.text_area :work_content, class: "form-control", rows: 5, required: true, 
                          placeholder: "今日取り組んだ作業内容を記入してください..."
            .form-text 最大2000文字
          
          .mb-3
            = f.label :learned_points, "学んだ点", class: "form-label required"
            = f.text_area :learned_points, class: "form-control", rows: 4, required: true, 
                          placeholder: "今日新しく学んだことや気づいたことを記入してください..."
            .form-text 最大2000文字（関連日報の検索に使用されます）
          
          .mb-3
            = f.label :improvements, "もっとよくできる点", class: "form-label required"
            = f.text_area :improvements, class: "form-control", rows: 4, required: true, 
                          placeholder: "改善できる点や次回気をつけたいことを記入してください..."
            .form-text 最大2000文字
          
          .mb-4
            .form-check
              = f.check_box :is_public, class: "form-check-input"
              = f.label :is_public, "この日報を公開する", class: "form-check-label"
              .form-text 公開すると他のユーザーも閲覧できるようになります
      
      .card-footer.bg-light
        .d-flex.justify-content-between
          = link_to "戻る", @daily_report, class: "btn btn-outline-secondary"
          = f.submit "更新する", class: "btn btn-warning"
